# éº»é›€ã‚²ãƒ¼ãƒ  ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆæœ€å°é™å®Ÿè£…ï¼‰

3äººéº»é›€ã‚²ãƒ¼ãƒ ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIã€‚**ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯**ã¨**WebSocketæ¥ç¶šç¢ºèª**ã€**åˆå›é…ç‰Œ**ã®ã¿ã®æœ€å°é™å®Ÿè£…ã€‚

## ğŸ¯ å®Ÿè£…æ©Ÿèƒ½

âœ… **ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯** (`/health`)
- ã‚µãƒ¼ãƒãƒ¼ç¨¼åƒçŠ¶æ³ç¢ºèª

âœ… **WebSocketæ¥ç¶šç¢ºèª** (`/ws/game`)
- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ¥ç¶šç¢ºèª
- æ¥ç¶šå¿œç­”ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

âœ… **åˆå›é…ç‰Œ**
- 3äººæ¥ç¶šæ™‚ã«è‡ªå‹•é…ç‰Œ
- å„ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«13æšãšã¤é…å¸ƒ
- ç‹ç‰Œãƒ»å±±ç‰Œã®è¨­å®š

## ğŸš€ å®Ÿè¡Œæ–¹æ³•

### å‰ææ¡ä»¶
- Go 1.21ä»¥ä¸Š
- Dockerï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

### æ–¹æ³•1: ç›´æ¥å®Ÿè¡Œ

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone <repository-url>
cd backend

# ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
go mod tidy

make run
```

## ğŸ§ª å‹•ä½œç¢ºèª

### 1. ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯

```bash
curl http://localhost:8080/health
```

**æœŸå¾…ãƒ¬ã‚¹ãƒãƒ³ã‚¹:**
```json
{
  "status": "ok",
  "service": "mahjong-backend",
  "version": "1.0.0"
}
```

### 2. å½¹åˆ¤å®šAPI (`/api/v1/yaku`)

æ‰‹ç‰Œã¨å’Œäº†çŠ¶æ³ã‹ã‚‰å½¹ã¨ç¬¦ãƒ»ç¿»ã‚’åˆ¤å®šã™ã‚‹REST APIã§ã™ã€‚

**ç‚¹æ•°è¨ˆç®—è¡¨ï¼ˆå­ã®ç‚¹æ•°ï¼‰:**
- 1ç¿»: 1,000ç‚¹
- 2ç¿»: 2,000ç‚¹  
- 3ç¿»: 3,900ç‚¹
- 4ç¿»: 7,700ç‚¹
- 5ç¿»: 8,000ç‚¹ï¼ˆæº€è²«ï¼‰
- 6-7ç¿»: 12,000ç‚¹ï¼ˆè·³æº€ï¼‰
- 8-10ç¿»: 16,000ç‚¹ï¼ˆå€æº€ï¼‰
- 11-12ç¿»: 24,000ç‚¹ï¼ˆä¸‰å€æº€ï¼‰
- 13ç¿»ä»¥ä¸Š: 32,000ç‚¹ï¼ˆå½¹æº€ï¼‰

#### åŸºæœ¬çš„ãªå½¹åˆ¤å®šï¼ˆå½¹ç‰Œãƒ»å¯¾ã€…å’Œãƒ»æ¸…ä¸€è‰²ï¼‰

```bash
curl -X POST http://localhost:8080/api/v1/yaku \
  -H "Content-Type: application/json" \
  -d '{
    "tehai": ["1m","1m"],
    "openMelds": [
      {"type": "pon", "tiles": ["haku","haku","haku"]},
      {"type": "pon", "tiles": ["2m","2m","2m"]},
      {"type": "pon", "tiles": ["3m","3m","3m"]},
      {"type": "pon", "tiles": ["4m","4m","4m"]}
    ],
    "winTile": "1m",
    "isTsumo": false,
    "riichi": false,
    "ippatsu": false,
    "doraIndicators": ["2p"],
    "uraDoraIndicators": [],
    "roundWind": "east",
    "seatWind": "south"
  }'
```

**æœŸå¾…ãƒ¬ã‚¹ãƒãƒ³ã‚¹:**
```json
{
  "yaku": [
    {"name": "å¯¾ã€…å’Œ", "han": 2},
    {"name": "æ··ä¸€è‰²", "han": 2},
    {"name": "å½¹ç‰Œ(ç™½)", "han": 1}
  ],
  "fu": 0,
  "han": 5,
  "doraCount": 0,
  "uraDoraCount": 0,
  "totalHan": 5,
  "yakuman": [],
  "score": 8000,
  "isChombo": false
}
```

#### é–€å‰ã®å½¹åˆ¤å®šï¼ˆç«‹ç›´ãƒ»è‡ªæ‘¸ãƒ»æ–­ä¹ˆä¹ï¼‰

```bash
curl -X POST http://localhost:8080/api/v1/yaku \
  -H "Content-Type: application/json" \
  -d '{
    "tehai": ["2m","3m","4m","5m","6m","7m","2p","3p","4p","5p","6p","7p","8p","8p"],
    "openMelds": [],
    "winTile": "8p",
    "isTsumo": true,
    "riichi": true,
    "ippatsu": false,
    "doraIndicators": ["1s"],
    "uraDoraIndicators": [],
    "roundWind": "east",
    "seatWind": "south"
  }'
```

**æœŸå¾…ãƒ¬ã‚¹ãƒãƒ³ã‚¹:**
```json
{
  "yaku": [
    {"name": "ç«‹ç›´", "han": 1},
    {"name": "é–€å‰æ¸…è‡ªæ‘¸å’Œ", "han": 1},
    {"name": "æ–­ä¹ˆä¹", "han": 1}
  ],
  "fu": 0,
  "han": 3,
  "doraCount": 0,
  "uraDoraCount": 0,
  "totalHan": 3,
  "yakuman": [],
  "score": 1200,
  "isChombo": false
}
```

#### ä¸ƒå¯¾å­ã®å½¹åˆ¤å®š

```bash
curl -X POST http://localhost:8080/api/v1/yaku \
  -H "Content-Type: application/json" \
  -d '{
    "tehai": ["1m","1m","2m","2m","3m","3m","4m","4m","5m","5m","6m","6m","7m","7m"],
    "openMelds": [],
    "winTile": "7m",
    "isTsumo": true,
    "riichi": true,
    "ippatsu": false,
    "doraIndicators": ["6m"],
    "uraDoraIndicators": ["2m"],
    "roundWind": "east",
    "seatWind": "south"
  }'
```

**æœŸå¾…ãƒ¬ã‚¹ãƒãƒ³ã‚¹:**
```json
{
  "yaku": [
    {"name": "ç«‹ç›´", "han": 1},
    {"name": "é–€å‰æ¸…è‡ªæ‘¸å’Œ", "han": 1},
    {"name": "ä¸ƒå¯¾å­", "han": 2},
    {"name": "æ¸…ä¸€è‰²", "han": 6}
  ],
  "fu": 0,
  "han": 10,
  "doraCount": 2,
  "uraDoraCount": 2,
  "totalHan": 14,
  "yakuman": [],
  "score": 32000,
  "isChombo": false
}
```

#### ä¸‰è‰²åŒé †ã®å½¹åˆ¤å®šï¼ˆãã„ã•ãŒã‚Šãƒ†ã‚¹ãƒˆï¼‰

**é–€å‰ï¼ˆ2ç¿»ï¼‰**:
```bash
curl -X POST http://localhost:8080/api/v1/yaku \
  -H "Content-Type: application/json" \
  -d '{
    "tehai": ["1m","2m","3m","1p","2p","3p","1s","2s","3s","4s","4s","5s","5s","5s"],
    "openMelds": [],
    "winTile": "5s",
    "roundWind": "east",
    "seatWind": "south"
  }'
```

**é³´ãã‚ã‚Šï¼ˆ1ç¿»ï¼‰**:
```bash
curl -X POST http://localhost:8080/api/v1/yaku \
  -H "Content-Type: application/json" \
  -d '{
    "tehai": ["1s","2s","3s","5s","5s"],
    "openMelds": [
      {"type": "chi", "tiles": ["1m","2m","3m"]},
      {"type": "chi", "tiles": ["1p","2p","3p"]},
      {"type": "pon", "tiles": ["4s","4s","4s"]}
    ],
    "winTile": "5s",
    "roundWind": "east",
    "seatWind": "south"
  }'
```

#### æ¸…ä¸€è‰²ã®å½¹åˆ¤å®šï¼ˆãã„ã•ãŒã‚Šãƒ†ã‚¹ãƒˆï¼‰

**é–€å‰ï¼ˆ6ç¿»ï¼‰**:
```bash
curl -X POST http://localhost:8080/api/v1/yaku \
  -H "Content-Type: application/json" \
  -d '{
    "tehai": ["2m","2m","3m","3m","4m","4m","5m","5m","6m","6m","7m","7m","8m","8m"],
    "openMelds": [],
    "winTile": "8m",
    "roundWind": "east",
    "seatWind": "south"
  }'
```

**é³´ãã‚ã‚Šï¼ˆ5ç¿»ï¼‰**:
```bash
curl -X POST http://localhost:8080/api/v1/yaku \
  -H "Content-Type: application/json" \
  -d '{
    "tehai": ["5m","5m"],
    "openMelds": [
      {"type": "pon", "tiles": ["2m","2m","2m"]},
      {"type": "pon", "tiles": ["3m","3m","3m"]},
      {"type": "pon", "tiles": ["4m","4m","4m"]},
      {"type": "pon", "tiles": ["6m","6m","6m"]}
    ],
    "winTile": "5m",
    "roundWind": "east",
    "seatWind": "south"
  }'
```

#### ãƒãƒ§ãƒ³ãƒœï¼ˆä¸æ­£ãªæ‰‹ç‰Œï¼‰ã®ä¾‹

```bash
curl -X POST http://localhost:8080/api/v1/yaku \
  -H "Content-Type: application/json" \
  -d '{
    "tehai": ["1m","2m","3m","4m","5m","6m"],
    "openMelds": [],
    "winTile": "7m",
    "isTsumo": true,
    "riichi": false,
    "ippatsu": false,
    "doraIndicators": ["1s"],
    "uraDoraIndicators": [],
    "roundWind": "east",
    "seatWind": "south"
  }'
```

**æœŸå¾…ãƒ¬ã‚¹ãƒãƒ³ã‚¹:**
```json
{
  "yaku": [],
  "fu": 0,
  "han": 0,
  "doraCount": 0,
  "uraDoraCount": 0,
  "totalHan": 0,
  "yakuman": [],
  "score": 0,
  "isChombo": true
}
```

### 3. Swagger UI

ãƒ–ãƒ©ã‚¦ã‚¶ã§ä»¥ä¸‹ã«ã‚¢ã‚¯ã‚»ã‚¹:
```
http://localhost:8080/swagger/index.html
```

### 4. WebSocketæ¥ç¶šãƒ†ã‚¹ãƒˆ

#### websocat ã‚’ä½¿ç”¨ï¼ˆæ¨å¥¨ï¼‰

```bash
# websocatã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆæœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®å ´åˆï¼‰
# macOS
brew install websocat

# æŒç¶šçš„ãªæ¥ç¶šï¼ˆå¯¾è©±å½¢å¼ï¼‰
websocat ws://localhost:8080/ws/game
# æ¥ç¶šå¾Œã€ä»¥ä¸‹ã‚’å…¥åŠ›ã—ã¦Enter:
{"type":"connection_check","data":{"playerId":"p3"}}
```

**æœŸå¾…ãƒ¬ã‚¹ãƒãƒ³ã‚¹:**
```json
{
  "type": "connection_response",
  "data": {
    "playerId": "test-player-1",
    "playersCount": 1,
    "maxPlayers": 3,
    "status": "waiting",
    "message": "æ¥ç¶šç¢ºèªå®Œäº†"
  }
}
```

#### ãã®ä»–ã®WebSocketã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ

WebSocketã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ `ws://localhost:8080/ws/game` ã«æ¥ç¶šå¾Œã€ä»¥ä¸‹ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡:

```json
{
  "type": "connection_check",
  "data": {
    "playerId": "test-player-1"
  }
}
```

### 5. 3äººæ¥ç¶šã§ã®é…ç‰Œãƒ†ã‚¹ãƒˆ

#### websocatä½¿ç”¨ï¼ˆæ¨å¥¨ï¼‰

3ã¤ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‹ã„ã¦ã€ãã‚Œãã‚Œã§æŒç¶šçš„ãªæ¥ç¶šã‚’è¡Œã„ã¾ã™ï¼š

**ã‚¿ãƒ¼ãƒŸãƒŠãƒ«1:**
```bash
websocat ws://localhost:8080/ws/game
# æ¥ç¶šå¾Œã€ä»¥ä¸‹ã‚’å…¥åŠ›:
{"type":"connection_check","data":{"playerId":"p1"}}
```

**ã‚¿ãƒ¼ãƒŸãƒŠãƒ«2:**
```bash
websocat ws://localhost:8080/ws/game
# æ¥ç¶šå¾Œã€ä»¥ä¸‹ã‚’å…¥åŠ›:
{"type":"connection_check","data":{"playerId":"p2"}}
```

**ã‚¿ãƒ¼ãƒŸãƒŠãƒ«3:**
```bash
websocat ws://localhost:8080/ws/game
# æ¥ç¶šå¾Œã€ä»¥ä¸‹ã‚’å…¥åŠ›:
{"type":"connection_check","data":{"playerId":"p3"}}
```


3äººç›®ãŒæ¥ç¶šã™ã‚‹ã¨ã€å„ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ä»¥ä¸‹ã®ã‚ˆã†ãªé…ç‰Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒé€ä¿¡ã•ã‚Œã¾ã™:

```json
{
  "type": "game_start",
  "data": {
    "gameId": "ã‚²ãƒ¼ãƒ ID",
    "playerId": "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ID",
    "tehai": ["1m","2m","3m",...],
    "wanpai": {
      "revealedDora": ["hatu"],
      "kanDoras": ["4s","7s","9s"],
      "unrevealedDoras": ["4p","nan","1m","9s"],
      "rinsyan": ["5pr","chun","6p","7p"]
    },
    "yama": [...],
    "players": [
      {"id": "p1", "tehai": [...], "isHost": true},
      {"id": "p2", "tehai": [...], "isHost": false},
      {"id": "p3", "tehai": [...], "isHost": false}
    ]
  }
}
```

## ï¿½ WebSocketæ¥ç¶šã«ã¤ã„ã¦

**é‡è¦ãªæ³¨æ„ç‚¹:**
- `echo | websocat` ã‚’ä½¿ã†ã¨ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡å¾Œã™ãã«æ¥ç¶šãŒé–‰ã˜ã¾ã™
- 3äººéº»é›€ã®ãƒ†ã‚¹ãƒˆã«ã¯ **æŒç¶šçš„ãªæ¥ç¶š** ãŒå¿…è¦ã§ã™
- é…ç‰Œã‚’å—ä¿¡ã™ã‚‹ã«ã¯ã€3äººå…¨å“¡ãŒ **åŒæ™‚ã«æ¥ç¶šçŠ¶æ…‹** ã‚’ä¿ã¤å¿…è¦ãŒã‚ã‚Šã¾ã™

**æ¨å¥¨ãƒ†ã‚¹ãƒˆæ–¹æ³•:**
1. `websocat ws://localhost:8080/ws/game` ã§å¯¾è©±å½¢å¼æ¥ç¶š
2. Node.jsã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆ`test-websocket.js`ï¼‰ã§ã®æŒç¶šçš„æ¥ç¶š
3. 3ã¤ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§åŒæ™‚æ¥ç¶šãƒ†ã‚¹ãƒˆ

## ï¿½ğŸ› ï¸ é–‹ç™º

### åˆ©ç”¨å¯èƒ½ãªMakeã‚³ãƒãƒ³ãƒ‰

```bash
# ãƒ“ãƒ«ãƒ‰
make build

# èµ·å‹•
make run

# ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰èµ·å‹•ï¼ˆè¦airï¼‰
make dev

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
make test

# ãƒªãƒ³ãƒˆå®Ÿè¡Œ
make lint

# Swaggeræ–‡æ›¸ç”Ÿæˆ
make swagger-gen

# Dockeré–¢é€£
make docker-build    # ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰
make docker-up       # èµ·å‹•
make docker-down     # åœæ­¢

# ãƒ˜ãƒ«ãƒ—
make help
```

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
backend/
â”œâ”€â”€ cmd/main.go                      # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ domain/entity/              # ã‚²ãƒ¼ãƒ ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
â”‚   â”œâ”€â”€ usecase/                    # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â””â”€â”€ interface/handler/          # HTTP/WebSocketãƒãƒ³ãƒ‰ãƒ©ãƒ¼
â”œâ”€â”€ swagger/gen/                    # APIä»•æ§˜æ›¸
â”œâ”€â”€ Dockerfile                      # Dockerã‚¤ãƒ¡ãƒ¼ã‚¸å®šç¾©
â”œâ”€â”€ docker-compose.yml             # Docker Composeè¨­å®š
â””â”€â”€ Makefile                       # ãƒ“ãƒ«ãƒ‰ãƒ»å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰
```

## ğŸ² ç‰Œã®ä»•æ§˜

- **è¬å­**: 1m, 9m (å„4æš)
- **ç­’å­**: 1p-9p (5pã¯é€šå¸¸3æš+èµ¤ãƒ‰ãƒ©5pr 1æš)
- **ç´¢å­**: 1s-9s (5sã¯é€šå¸¸3æš+èµ¤ãƒ‰ãƒ©5sr 1æš)
- **å­—ç‰Œ**: ton,nan,sya,pe,haku,hatu,chun (å„4æš)
- **ç·æ•°**: 80æš

## ğŸ“Š é…ç‰Œã®ä»•æ§˜

- **è¦ªï¼ˆãƒ›ã‚¹ãƒˆï¼‰**: 14æš
- **å­ï¼ˆãã®ä»–ï¼‰**: 13æšãšã¤ (è¨ˆ26æš)
- **ç‹ç‰Œ**: 13æš (è¡¨ãƒ‰ãƒ©1æš + è£ãƒ‰ãƒ©4æš + å¶ºä¸Šç‰Œ8æš)
- **å±±ç‰Œ**: 27æš

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

ã‚·ãƒ³ãƒ—ãƒ«ãª3å±¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆå®Œå…¨ãƒ¡ãƒ¢ãƒªãƒ™ãƒ¼ã‚¹ï¼‰:

```
â”œâ”€â”€ Entity    # ã‚²ãƒ¼ãƒ ãƒ»ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ»ç‰Œã®å®šç¾©
â”œâ”€â”€ UseCase   # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ + ãƒ¡ãƒ¢ãƒªã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
â””â”€â”€ Handler   # HTTP/WebSocket ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
```

**ç‰¹å¾´:**
- æ°¸ç¶šåŒ–ãªã—ï¼ˆãƒ¡ãƒ¢ãƒªã®ã¿ï¼‰
- å¤–éƒ¨ä¾å­˜ãªã—
- é«˜é€Ÿãƒ»è»½é‡ãƒ»ã‚·ãƒ³ãƒ—ãƒ«

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

### å…¨ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
```bash
go test ./test -v
```

### ãƒ†ã‚¹ãƒˆå†…å®¹
ä½œæˆã•ã‚ŒãŸãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã§ã¯ä»¥ä¸‹ã®å½¹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ãƒ†ã‚¹ãƒˆã—ã¦ã„ã¾ã™ï¼š

#### åŸºæœ¬çš„ãªå½¹ï¼ˆ1-2ç¿»ï¼‰
- **æ–­ä¹ˆä¹ã®ã¿ï¼ˆ1ç¿»ï¼‰**: 2-8ã®æ•°ç‰Œã®ã¿ã®æ‰‹
- **ç«‹ç›´+æ–­ä¹ˆä¹ï¼ˆ2ç¿»ï¼‰**: ãƒªãƒ¼ãƒã¨æ–­ä¹ˆä¹ã®è¤‡åˆ
- **é–€å‰æ¸…è‡ªæ‘¸å’Œ+æ–­ä¹ˆä¹ï¼ˆ2ç¿»ï¼‰**: ãƒ„ãƒ¢å’Œäº†ã¨æ–­ä¹ˆä¹ã®è¤‡åˆ

#### ãã„ã•ãŒã‚Šï¼ˆé³´ãã«ã‚ˆã‚‹æ¸›ç‚¹ï¼‰
ä»¥ä¸‹ã®å½¹ã¯é³´ãã«ã‚ˆã£ã¦ç¿»æ•°ãŒä¸‹ãŒã‚Šã¾ã™ï¼š

- **æ¸…ä¸€è‰²**: é–€å‰6ç¿» â†’ é³´ãã‚ã‚Š5ç¿»
- **æ··ä¸€è‰²**: é–€å‰3ç¿» â†’ é³´ãã‚ã‚Š2ç¿»
- **ç´”å…¨å¸¯ä¹ˆä¹**: é–€å‰3ç¿» â†’ é³´ãã‚ã‚Š2ç¿»
- **æ··å…¨å¸¯ä¹ˆä¹**: é–€å‰2ç¿» â†’ é³´ãã‚ã‚Š1ç¿»
- **ä¸€æ°—é€šè²«**: é–€å‰2ç¿» â†’ é³´ãã‚ã‚Š1ç¿»
- **ä¸‰è‰²åŒé †**: é–€å‰2ç¿» â†’ é³´ãã‚ã‚Š1ç¿»

#### ãã„ã•ãŒã‚Šãªã—ï¼ˆé³´ãã«ã‚ˆã‚‹æ¸›ç‚¹ãªã—ï¼‰
- **ä¸‰è‰²åŒåˆ»**: é–€å‰/é³´ãã‚ã‚Šå…±ã«2ç¿»
- **å¯¾ã€…å’Œ**: é–€å‰/é³´ãã‚ã‚Šå…±ã«2ç¿»
- **å½¹ç‰Œ**: é–€å‰/é³´ãã‚ã‚Šå…±ã«1ç¿»

#### ä¸­ç´šå½¹ï¼ˆ2-3ç¿»ï¼‰
- **ä¸ƒå¯¾å­+æ–­ä¹ˆä¹ï¼ˆ3ç¿»ï¼‰**: 7ã¤ã®å¯¾å­ã«ã‚ˆã‚‹ç‰¹æ®Šå½¢
- **å½¹ç‰Œï¼ˆ1ç¿»ï¼‰**: ä¸‰å…ƒç‰Œï¼ˆç™½/ç™¼/ä¸­ï¼‰ã®ãƒãƒ³
- **å¯¾ã€…å’Œï¼ˆ2ç¿»ï¼‰**: 4ã¤ã®ãƒãƒ³ãƒ»ã‚«ãƒ³ã«ã‚ˆã‚‹æ‰‹

#### é«˜å¾—ç‚¹å½¹ï¼ˆ5-8ç¿»ï¼‰
- **æ··ä¸€è‰²ï¼ˆ2-3ç¿»ï¼‰**: ä¸€è‰²+å­—ç‰Œã®æ··åˆï¼ˆå‰¯éœ²æ™‚æ¸›ç‚¹ï¼‰
- **æ¸…ä¸€è‰²ï¼ˆ5-6ç¿»ï¼‰**: ä¸€è‰²ã®ã¿ã®æ‰‹ï¼ˆå‰¯éœ²æ™‚æ¸›ç‚¹ï¼‰
- **æº€è²«ï¼ˆ5ç¿»ï¼‰**: å¯¾ã€…å’Œ+æ··ä¸€è‰²+å½¹ç‰Œã®è¤‡åˆ

#### è¤‡åˆå½¹
å¤šãã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§ã¯ã€è¤‡æ•°ã®å½¹ãŒåŒæ™‚ã«æˆç«‹ã™ã‚‹è¤‡åˆå½¹ã‚’ãƒ†ã‚¹ãƒˆã—ã¦ã„ã¾ã™ï¼š
- **æ¸…ä¸€è‰²+ä¸ƒå¯¾å­+æ–­ä¹ˆä¹ï¼ˆ9ç¿»ï¼‰**: è¤‡æ•°å½¹ã®åˆç®—
- **æ··ä¸€è‰²+å¯¾ã€…å’Œ+å½¹ç‰Œï¼ˆ5ç¿»ï¼‰**: æº€è²«ãƒ¬ãƒ™ãƒ«ã®è¤‡åˆ
- **ç´”å…¨å¸¯ä¹ˆä¹+ä¸€æ°—é€šè²«ï¼ˆ5ç¿»ï¼‰**: ãƒãƒ£ãƒ³ã‚¿ç³»ã¨ã®è¤‡åˆ

#### ãƒ‰ãƒ©è¨ˆç®—
- **ãƒ‰ãƒ©2å€‹**: ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ã€Œ1mã€ã§ãƒ‰ãƒ©ã€Œ2mã€ãŒ2æšã‚ã‚‹å ´åˆ

#### ãƒãƒ§ãƒ³ãƒœåˆ¤å®š
- **ç‰Œæ•°ä¸æ­£**: 14ç‰Œã§ãªã„ä¸æ­£ãªæ‰‹

### ãƒ†ã‚¹ãƒˆçµæœã®è¦‹æ–¹
å„ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã§ã¯ä»¥ä¸‹ã‚’æ¤œè¨¼ã—ã¾ã™ï¼š
- **Score**: æ­£ã—ã„ç‚¹æ•°è¨ˆç®—ï¼ˆ1ç¿»=1000ç‚¹ãªã©ï¼‰
- **TotalHan**: å½¹+ãƒ‰ãƒ©ã®åˆè¨ˆç¿»æ•°
- **DoraCount**: ãƒ‰ãƒ©ã®æšæ•°
- **IsChombo**: ãƒãƒ§ãƒ³ãƒœåˆ¤å®š
- **Yaku**: æˆç«‹ã—ãŸå½¹ã®ä¸€è¦§

ä¾‹ï¼š
```
Response: {Yaku:[{Name:å¯¾ã€…å’Œ Han:2} {Name:å½¹ç‰Œ(ç™½) Han:1}] Han:3 DoraCount:2 TotalHan:5 Score:8000 IsChombo:false}
```
â†’ å¯¾ã€…å’Œ(2ç¿»)+å½¹ç‰Œ(1ç¿»)+ãƒ‰ãƒ©2å€‹ = 5ç¿» = æº€è²«8000ç‚¹

### æœŸå¾…ã•ã‚Œã‚‹ãƒ†ã‚¹ãƒˆå‡ºåŠ›
```
=== RUN   TestYakuEvaluation
### æœ€æ–°ã®ãƒ†ã‚¹ãƒˆçµæœï¼ˆ2024å¹´åº¦ç‰ˆ - å…¨32ã‚±ãƒ¼ã‚¹ï¼‰

å…¨ã¦ã®ãƒ†ã‚¹ãƒˆãŒæ­£å¸¸ã«ãƒ‘ã‚¹ã—ã¦ã„ã¾ã™ï¼š

```
=== RUN   TestYakuEvaluation
=== RUN   TestYakuEvaluation/2ç¿»_-_é–€å‰æ¸…è‡ªæ‘¸å’Œ_æ–­ä¹ˆä¹_é–€å‰_ãƒ„ãƒ¢
=== RUN   TestYakuEvaluation/4ç¿»_-_å¯¾ã€…å’Œ_å½¹ç‰Œ(ç™½)_æ··å…¨å¸¯ä¹ˆä¹_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/2ç¿»_-_ç«‹ç›´_æ–­ä¹ˆä¹_é–€å‰_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/1ç¿»_-_æ–­ä¹ˆä¹_é–€å‰_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/3ç¿»_-_ä¸ƒå¯¾å­_æ–­ä¹ˆä¹_é–€å‰_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/8ç¿»_-_å¯¾ã€…å’Œ_æ¸…ä¸€è‰²_æ–­ä¹ˆä¹_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/6ç¿»_-_å¯¾ã€…å’Œ_æ··ä¸€è‰²_å½¹ç‰Œ(ç™½)_æ··å…¨å¸¯ä¹ˆä¹_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/9ç¿»_-_å¯¾ã€…å’Œ_æ¸…ä¸€è‰²_ç´”å…¨å¸¯ä¹ˆä¹_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/6ç¿»_-_å¯¾ã€…å’Œ_å½¹ç‰Œ(ç™½)_æ··å…¨å¸¯ä¹ˆä¹_ãƒ‰ãƒ©2_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/å½¹æº€_-_å›½å£«ç„¡åŒ_é–€å‰_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/6ç¿»_-_å¯¾ã€…å’Œ_å½¹ç‰Œ(å ´é¢¨)_æ··å…¨å¸¯ä¹ˆä¹_é–€æ¸…_ãƒ„ãƒ¢
=== RUN   TestYakuEvaluation/å½¹æº€_-_å¤§ä¸‰å…ƒ_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/å½¹æº€_-_ç·‘ä¸€è‰²_é–€å‰_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/å½¹æº€_-_å­—ä¸€è‰²_é–€å‰_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/å½¹æº€_-_æ¸…è€é ­_é–€å‰_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/4ç¿»_-_å½¹ç‰Œ(æ±)_å ´é¢¨_å¯¾ã€…å’Œ_æ··å…¨å¸¯ä¹ˆä¹_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/4ç¿»_-_å½¹ç‰Œ(å—)_è‡ªé¢¨_å¯¾ã€…å’Œ_æ··å…¨å¸¯ä¹ˆä¹_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/9ç¿»_-_æ¸…ä¸€è‰²_ä¸ƒå¯¾å­_æ–­ä¹ˆä¹_é–€å‰_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/8ç¿»_-_æ¸…ä¸€è‰²_å¯¾ã€…å’Œ_æ–­ä¹ˆä¹_é³´ãã‚ã‚Š_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/7ç¿»_-_æ··ä¸€è‰²_ä¸ƒå¯¾å­_æ··å…¨å¸¯ä¹ˆä¹_é–€å‰_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/6ç¿»_-_æ··ä¸€è‰²_å¯¾ã€…å’Œ_æ··å…¨å¸¯ä¹ˆä¹_å½¹ç‰Œé³´ãã‚ã‚Š_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/3ç¿»_-_ç´”å…¨å¸¯ä¹ˆä¹_é–€å‰_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/2ç¿»_-_ç´”å…¨å¸¯ä¹ˆä¹_é³´ãã‚ã‚Š_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/2ç¿»_-_æ··å…¨å¸¯ä¹ˆä¹_é–€å‰_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/1ç¿»_-_æ··å…¨å¸¯ä¹ˆä¹_é³´ãã‚ã‚Š_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/5ç¿»_-_ä¸€æ°—é€šè²«_ç´”å…¨å¸¯ä¹ˆä¹_é–€å‰_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/3ç¿»_-_ä¸€æ°—é€šè²«_ç´”å…¨å¸¯ä¹ˆä¹_é³´ãã‚ã‚Š_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/5ç¿»_-_ä¸‰è‰²åŒé †_ç´”å…¨å¸¯ä¹ˆä¹_é–€å‰_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/3ç¿»_-_ä¸‰è‰²åŒé †_ç´”å…¨å¸¯ä¹ˆä¹_é³´ãã‚ã‚Š_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/5ç¿»_-_ä¸‰è‰²åŒåˆ»_å¯¾ã€…å’Œ_é–€å‰_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/5ç¿»_-_ä¸‰è‰²åŒåˆ»_å¯¾ã€…å’Œ_é³´ãã‚ã‚Š_ãƒ­ãƒ³
=== RUN   TestYakuEvaluation/ãƒãƒ§ãƒ³ãƒœ_-_ç‰Œæ•°ä¸æ­£
--- PASS: TestYakuEvaluation (0.00s)
PASS
ok      mahjong-backend/test    0.805s
```

### å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½

#### âœ… å®Œå…¨å®Ÿè£…æ¸ˆã¿
- **åŸºæœ¬å½¹**: å…¨ã¦ã®ä¸€èˆ¬çš„ãªå½¹ï¼ˆæ–­ä¹ˆä¹ã€ç«‹ç›´ã€é–€å‰æ¸…è‡ªæ‘¸å’Œãªã©ï¼‰
- **è¤‡åˆå½¹**: å¯¾ã€…å’Œã€ä¸ƒå¯¾å­ã€æ¸…ä¸€è‰²ã€æ··ä¸€è‰²ãªã©
- **å½¹æº€**: å›½å£«ç„¡åŒã€å¤§ä¸‰å…ƒã€ç·‘ä¸€è‰²ã€å­—ä¸€è‰²ã€æ¸…è€é ­ãªã©å…¨13ç¨®é¡
- **å½¹ç‰Œåˆ¤å®š**: å ´é¢¨ç‰Œã€è‡ªé¢¨ç‰Œã®æ­£ç¢ºãªåˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯
- **ãã„ã•ãŒã‚Š**: é³´ãã«ã‚ˆã‚‹ç¿»æ•°æ¸›å°‘ï¼ˆæ¸…ä¸€è‰² 6â†’5ç¿»ã€æ··ä¸€è‰² 3â†’2ç¿»ãªã©ï¼‰
- **è¤‡é›‘ãªå½¹çµ„ã¿åˆã‚ã›**: è‡ªå‹•æ¤œå‡ºã•ã‚Œã‚‹æ··å…¨å¸¯ä¹ˆä¹ã€ç´”å…¨å¸¯ä¹ˆä¹ãªã©ã®å‰¯æ¬¡çš„å½¹
- **æ­£ç¢ºãªç‚¹æ•°è¨ˆç®—**: éº»é›€ã®æ­£å¼ãªç‚¹æ•°è¡¨ã«åŸºã¥ãè¨ˆç®—
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: ãƒãƒ§ãƒ³ãƒœåˆ¤å®šï¼ˆç‰Œæ•°ä¸æ­£ãªã©ï¼‰

#### ğŸ¯ ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸
- åŸºæœ¬å½¹ã®å˜ç‹¬ãƒ†ã‚¹ãƒˆ
- è¤‡åˆå½¹ã®çµ„ã¿åˆã‚ã›ãƒ†ã‚¹ãƒˆ  
- å½¹æº€ã®åˆ¤å®šãƒ†ã‚¹ãƒˆ
- ãã„ã•ãŒã‚Šã®ç¿»æ•°æ¸›å°‘ãƒ†ã‚¹ãƒˆ
- è¤‡é›‘ãªå½¹ã®è‡ªå‹•æ¤œå‡ºãƒ†ã‚¹ãƒˆ
- ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã®ãƒ†ã‚¹ãƒˆ

ã“ã®å®Ÿè£…ã«ã‚ˆã‚Šã€æ­£ç¢ºã§åŒ…æ‹¬çš„ãªéº»é›€ã®å½¹åˆ¤å®šã‚·ã‚¹ãƒ†ãƒ ãŒå®Œæˆã—ã¾ã—ãŸã€‚
